@(id: Option[String], form: Form[models.Event], recurrenceTypes: Iterator[models.enums.RecurrenceType.Value], calMap: scala.collection.mutable.Map[String, String])

@main("Add Event"){

<div class="row">
    <div class="span8">
    <legend>Add an event</legend>

	@helper.form(action = (if(!id.isDefined) routes.Events.create else routes.Events.editEvent(id.get)), 'class -> "form-horizontal") {
        <!-- Calendar -->
        <label class="col-sm-2 control-label"> Calendar </label>
    		<div class="col-sm-10"> 
        <select name='@form("calendar").name' id='@form("calendar").id' class="form-control" style="width:215px">
        @for((eventID, eventName) <- calMap){
        	<option value='@eventID'>@eventName </option>
        }
        </select>
        </div>
        
        
       <br>
       <br>
       
      	<!-- Event Name -->
		@viewComponents.html.text(form("name"),
    		label = "Name",
        	placeholder = "Event Name")
        
 		<!--  Description -->
		@viewComponents.html.textarea(form("description"),
    	label = "Description",
        placeholder = "Event Description")
        
        <!-- Event Type ("Fixed") -->
       
        
       
        <label class="col-sm-2 control-label">Event Type</label>
    	<div class="col-sm-5">
    		<select name='@form("eventType").name' id='@form("eventType").id' class="form-control" style="width:150px">
    				<option value="Fixed"> Fixed </option>
    				<option value="PUD"> PUD </option>
    		</select>
    	</div>
   
   		<br>
        <br>
        
		<script type="text/javascript">
	    $(document).ready(function(){
		    $('#@form("eventType").id').on('change', function() {
		      if (this.value == "Fixed"){
		        $('#@form("timeRange.startDate").id').show();
		        $('#@form("timeRange.endDate").id').show();
		        $('#@form("timeRange.startTime").id').show();
		        $('#@form("timeRange.endTime").id').show();
		        
		        $('#@form("timeRange.duration").id').hide();
		        $('#@form("PUDPriority").id').hide();
		      }
		      else {
		        $('#@form("timeRange.startDate").id').hide();
		        $('#@form("timeRange.endDate").id').hide();
		        $('#@form("timeRange.startTime").id').hide();
		        $('#@form("timeRange.endTime").id').hide();
		        
		        $('#@form("timeRange.duration").id').show();
		        $('#@form("PUDPriority").id').show();
		      }
		    });
		});
		
		$(document).ready(function(){
			$('#@form("timeRange.duration").id').hide();
		    $('#@form("PUDPriority").id').hide();
		});
		
		
		</script>
		<!--  PUD Fields -->
		@viewComponents.html.number(form("timeRange.duration"),
			label = "Time Allocated",
			help = "minutes")
		
		@viewComponents.html.number(form("PUDPriority"),
			label = "Priority")
		
	
        <!--  Time Range -->
        @viewComponents.html.datepicker(form("timeRange.startDate"),
        	label = "Start Date")  
       
        @viewComponents.html.timepicker(form("timeRange.startTime"),
        	label = "Start Time")  
        	
        @viewComponents.html.datepicker(form("timeRange.endDate"),
        	label = "End Date")  
        
        @viewComponents.html.timepicker(form("timeRange.endTime"),
        	label = "End Time")  
        	
      	<!--  All day -->  
      	<!-- <div>
     	<label class="col-sm-2 control-label"> All Day </label>
    		<div class="col-sm-10">   	
       			@viewComponents.html.checkbox(form("timeRange.allday"),
       				label = "All Day")
       		</div>
       	</div> -->
       	
       	<input type="checkbox"
                id='@form("timeRange.allday").id' 
                name='@form("timeRange.allday").name'
                value='@false' 
                placeholder='@false'
                style="visibility: hidden" />
       	
       	<!--  Recurrence Details -->    	
       	@viewComponents.html.dropdown(form("recurrenceMeta.recurrenceType"),
    		label = "Recurrence Type",
        	List("Daily", "Weekly", "Monthly", "Yearly"))
        			
        @viewComponents.html.datepicker(form("recurrenceMeta.timeRange.endDate"),
        	label = "Recurrence End Date")
       		
		<label class="col-sm-2"> </label>
		<div class="col-sm-5">
			<div class="form-actions">
				<input class="btn btn-primary" type="submit"> 
			</div>
		</div>
		
		<br>
		<br>
		<br>
    }
    </div>
</div>
}